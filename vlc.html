<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
<!-- <link href="http://vjs.zencdn.net/c/video-js.css" rel="stylesheet"> -->
<!-- <script src="http://vjs.zencdn.net/c/video.js"></script> -->
<link href="https://cdn.bootcdn.net/ajax/libs/video.js/7.10.1/video-js.min.css" rel="stylesheet">
<script src="https://cdn.bootcdn.net/ajax/libs/video.js/7.10.1/video.js"></script>
<script src="https://cdn.bootcdn.net/ajax/libs/video.js/7.10.1/lang/zh-CN.js"></script>

<!-- Video.js -->
<!-- <link href="https://unpkg.com/video.js/dist/video-js.css" rel="stylesheet">
<script src="https://unpkg.com/video.js/dist/video.min.js"></script> -->
<script src="https://unpkg.com/flv.js/dist/flv.min.js"></script>
<script src="https://unpkg.com/videojs-flvjs/dist/videojs-flvjs.min.js"></script>

</head>
<body>
    <!-- <video id="videojs-flvjs-player" class="video-js vjs-default-skin vjs-big-play-centered"  width="1024" height="768"> </video>

    
    <script>
        var flvUrl = "https://mister-ben.github.io/videojs-flvjs/bbb.flv";
        // var flvUrl = "http://127.0.0.1:5500/html/video/video1.flv";

        var player = videojs('videojs-flvjs-player', {
            techOrder: ['html5', 'flvjs'],
            flvjs: {
                mediaDataSource: {
                    isLive: false,
                    cors: true,
                    withCredentials: false,
                },
            },
            sources: [{
                src: flvUrl,
                type: 'video/mp4'
            }],
            controls: true,
            preload: "none"
        }, function onPlayerReady() {
            console.log('player ready')
        
            player.on('error', (err) => {
                console.log('first source load fail')
        
                player.src({
                    src: flvUrl,
                    type: 'video/x-flv'
                });
        
                player.ready(function() {
                    console.log('player ready')
                    player.load();
                    player.play();
                });
            })
        });
    </script> -->
    <!-- <object type="application/x-shockwave-flash" data="./video/video1.flv" width="450" height="350" id="FlashPlayer2" align="middle">
        <param name="allowScriptAccess" value="*">
        <param name="quality" value="high">
    </object> -->
    // 下载播放器 注册 cmd regsvr32 D:\VLC\axvlc.dll 使用该插件 
    <object type='application/x-vlc-plugin' id='vlc' events='True' width="720" height="540" pluginspage="http://www.videolan.org" codebase="http://downloads.videolan.org/pub/videolan/vlc-webplugins/2.0.6/npapi-vlc-2.0.6.tar.xz">
        <!-- <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' /> -->
        <param name='mrl' value='http://127.0.0.1:5500/html/video/bbb.flv' />
        <param name='volume' value='50' />
        <param name='autoplay' value='true' />
        <param name='loop' value='true' />
        <param name='fullscreen' value='true' />
    </object>
    <!-- 成功 -->
    <!-- <video id="video2" class="video-js vjs-default-skin" width="640" height="480"
        data-setup='{"controls" : true, "autoplay" : true, "preload" : "true"}'> -->
        <!-- <source src="http://127.0.0.1:5500/html/video/video1.flv" type="video/x-flv"> -->
        <!-- <source src="https://mister-ben.github.io/videojs-flvjs/bbb.flv" type="video/x-flv"> -->
            <!-- <source src="http://127.0.0.1:5500/html/video/bbb.flv" type="video/x-flv">
    </video> -->


    <!-- <div id="player"></div> -->

    <!-- 失败 -->
    <!-- <script src="http://cdn.jsdelivr.net/npm/xgplayer/browser/index.js" charset="utf-8"></script>
    <script src="http://cdn.jsdelivr.net/npm/xgplayer-flv.js/browser/index.js" charset="utf-8"></script>
    <script type="text/javascript">
        new window.FlvJsPlayer({
            id: 'player',
            isLive: false,
            playsinline: true,
            url: 'http://nebula-playback.qiniudn.com/test-playback/flv/sample.flv',
            autoplay: true,
            height: window.innerHeight,
            width: window.innerWidth
        });
    </script> -->

    <script type="text/javascript">  
        //仅适用于IE浏览器是，并且安装有vlc插件，则返回true；  
           function isInsalledIEVLC(){    
               var vlcObj = null;  
               var vlcInstalled= false;   
               try {  
                   vlcObj = new ActiveXObject("VideoLAN.Vlcplugin.1");   
                   if( vlcObj != null ){   
                       vlcInstalled = true   
                   }  
               } catch (e) {  
                   vlcInstalled= false;  
               }          
               return vlcInstalled;  
           }   

           //仅适用于firefox浏览器是，并且安装有vlc插件，则返回true；  
           function isInsalledFFVLC(){  
                var numPlugins=navigator.plugins.length;  
                for  (i=0;i<numPlugins;i++){   
                     plugin=navigator.plugins[i];  
                     if(plugin.name.indexOf("VideoLAN") > -1 || plugin.name.indexOf("VLC") > -1){   
                        return true;  
                   }  
                }  
                return false;  
           }  

                  /* 浏览器检测 */  
           function checkBrowser(){  
               var browser=navigator.appName  
               var b_version=navigator.appVersion  
               var version=parseFloat(b_version)  
               if ( browser=="Netscape"  && version>=4) {  
                   if(isInsalledFFVLC()){  
                       alert("已装VLC插件");  
                   }else{  
                       alert("未装VLC插件");
           location.href="http://download.videolan.org/pub/videolan/vlc/2.2.1/";  
                   }  
               }else if(browser=="Microsoft Internet Explorer" && version>=4) {  
                   if(isInsalledIEVLC()){  
                       alert("已装VLC插件");  
                   }else{  
                       alert("未装VLC插件,请先安装插件");
                   location.href="http://download.videolan.org/pub/videolan/vlc/2.2.1/";
                   }  
               }  
           } 
        //    checkBrowser()
    </script>



<!--[if IE]>

<!-- <![endif]-->
<!--[if !IE]><!-->
    <!-- <object type='application/x-vlc-plugin' id='vlc' events='True' width="720" height="540" pluginspage="http://www.videolan.org" codebase="http://downloads.videolan.org/pub/videolan/vlc-webplugins/2.0.6/npapi-vlc-2.0.6.tar.xz">
        <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
        <param name='volume' value='50' />
        <param name='autoplay' value='true' />
        <param name='loop' value='false' />
        <param name='fullscreen' value='false' />
    </object> -->


<!--<![endif]-->

<!-- <div style="width:100%">
    <div style="width:30%;float:left">
        <object type='application/x-vlc-plugin' id='vlc_1' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
        </object> 
        测试计时<span id="span_1"></span>秒
    </div>	
    <div style="width:30%;float:left">	
        <object type='application/x-vlc-plugin' id='vlc_2' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
        </object> 
        测试计时<span id="span_2"></span>秒				
    </div>	
    <div style="width:30%;float:left">		
        <object type='application/x-vlc-plugin' id='vlc_3' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
        </object> 
        测试计时<span id="span_3"></span>秒
    </div>	
    <div style="width:30%;float:left">	
        <object type='application/x-vlc-plugin' id='vlc_4' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov'/>
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
            
        </object> 
        测试计时<span id="span_4"></span>秒
    </div>	
    <div style="width:30%;float:left">		
        <object type='application/x-vlc-plugin' id='vlc_5' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
            
        </object>
        测试计时<span id="span_5"></span>秒
    </div>	
    <div style="width:30%;float:left">	
        <object type='application/x-vlc-plugin' id='vlc_6' events='True' width="360" height="270" codebase="axvlc.cab">

            <param name='mrl' value='rtsp://wowzaec2demo.streamlock.net/vod/mp4:BigBuckBunny_115k.mov' />
            <param name='volume' value='50' />
            <param name='autoplay' value='true' />
            <param name='loop' value='false' />
            <param name='fullscreen' value='false' />
            
        </object> 
        测试计时<span id="span_6"></span>秒
    </div>	 -->
    
<!-- </div> -->

<!-- <script type="text/javascript" src="./js/jquery.js"></script>
		<script type="text/javascript">
		var vlcArray=new Array()
		$(function() {
			
			for(var i=1;i<7;i++){
				var vlc_id="vlc_"+i;
				var obj = new vlcObject();
				obj.vlc=document.getElementById(vlc_id);
				vlcArray.push(obj);
				
			}
			begin();
		})
		function begin(){
			for(var i=1;i<7;i++){
				var index=i-1;
				obj=vlcArray[index];
				//state =3 表示正在播放
				if(obj.vlc.input.state==3){
					
					if (obj.isPlay==1){
					
						//观看时长赋值
						obj.seeTime=(new Date().getTime() - obj.beginTime)/1000+obj.stopTime;
					}
					else{
						
						obj.isPlay=1;
						obj.beginTime=new Date().getTime();
						obj.stopTime=obj.seeTime;
					}
				}
				//state =4 表示暂停播放;state =5 表示停止播放 state =2 表示缓冲
				if (obj.vlc.input.state==4 || obj.vlc.input.state==5 || obj.vlc.input.state==2){
					obj.isPlay=0;
					
				}
				setSeeTime(obj,i);
			}
			setTimeout("begin()",1000);
		}
		function setSeeTime(obj,id){
			
			var span_id="#span_"+id;
			$(span_id).html(parseInt(obj.seeTime));
		}
		
		
		
		//自定义vlc对象
		function vlcObject() {
			var temp = new Object;
			temp.vlc = new Object;
			//观看时长
			temp.seeTime=0;
			//开始播放时间
			temp.beginTime=0
			temp.isPlay=0;
			//暂停前观看的时长
			temp.stopTime=0;
			return temp;
		}
		</script> -->

</body>
</html>