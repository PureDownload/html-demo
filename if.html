<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>判断点在面内算法</title>
</head>

<body>
    <script>
        /**

        判断一个点是否在多边形内部

        @param points 多边形坐标集合

        @param testPoint 测试点坐标

        返回true为真，false为假

        */
        function insidePolygon(points, testPoint) {
            var x = testPoint[0], y = testPoint[1];
            var inside = false;
            for (var i = 0, j = points.length - 1; i < points.length; j = i++) {
                var xi = points[i][0], yi = points[i][1];
                var xj = points[j][0], yj = points[j][1];

                var intersect = ((yi > y) != (yj > y))
                    && (x < (xj - xi) * (y - yi) / (yj - yi) + xi);
                if (intersect) inside = !inside;
            }
            return inside;
        }

        /**
        
        判断一个点是否在圆的内部
        @param point 测试点坐标
        @param circle 圆心坐标
        @param r 圆半径
        返回true为真，false为假
        */
        function pointInsideCircle(point, circle, r) {
            if (r === 0) return false
            var dx = circle[0] - point[0]
            var dy = circle[1] - point[1]
            return dx * dx + dy * dy <= r * r
        }

        let points = [[113.848572,23.375035], [113.959808,23.285504], [113.806000,23.259011], [113.848572,23.375035]]

        let bool = insidePolygon(points, [113.863877,23.308207])
        bool = insidePolygon(points, [113.641204,22.805301])
        console.info('bool',bool)
    </script>
</body>

</html>